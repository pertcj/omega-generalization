import functools

import haiku as hk

from omega_generalization.models import rnn

from omega_generalization.training import curriculum as curriculum_lib

from omega_generalization.tasks.omega_regular import DBA
from omega_generalization.tasks.omega_regular import lift

MODEL_BUILDERS = {
    'rnn':
        functools.partial(rnn.make_rnn, rnn_core=hk.VanillaRNN),
}

CURRICULUM_BUILDERS = {
    'fixed': curriculum_lib.FixedCurriculum,
    'regular_increase': curriculum_lib.RegularIncreaseCurriculum,
    'reverse_exponential': curriculum_lib.ReverseExponentialCurriculum,
    'uniform': curriculum_lib.UniformCurriculum,
}

LIFT_FORMULAS = {
    'debug': "b & F(a)",
    "lift_2a": lift.generate_lift_ltl_spec(2),
    "lift_3a": lift.generate_lift_ltl_spec(3),
    "lift_4a": lift.generate_lift_ltl_spec(4),
    "lift_5a": lift.generate_lift_ltl_spec(5),
    "lift_6a": lift.generate_lift_ltl_spec(6),
    "lift_7a": lift.generate_lift_ltl_spec(7),
    "lift_8a": lift.generate_lift_ltl_spec(8),
    'lift_2b': "(!u & (!bf0) & !b0 & !b1 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0))) & ((!bf0) -> (X ((!bf0) | (bf0)))) & ((bf0) -> (X ((!bf0) | (bf0)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1))) & ((b0 & !(!bf0)) -> X b0) & ((b1 & !(bf0)) -> X b1))) & (G(((((!bf0) & X (!bf0)) -> (up <-> X up)) & (((bf0) & X (bf0)) -> (up <-> X up))) & ((((!bf0) & X (bf0)) -> X up)) & ((((bf0) & X (!bf0)) -> X(!up))))) & (G(sb <-> (b0 | b1))) & (G((((!bf0) & !sb) -> ((!bf0) U (sb V ((F(!bf0)) & (!up))))) & (((bf0) & !sb) -> ((bf0) U (sb V ((F(!bf0)) & (!up))))))) & (G((b0 -> (F (!bf0)))& (b1 -> (F (bf0)))))",
    'lift_3b': "(!u & (!bf0 & !bf1) & !b0 & !b1 & !b2 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1))) & ((!bf0 & !bf1) -> (X ((!bf0 & !bf1) | (bf0 & !bf1)))) & ((bf0 & !bf1) -> (X ((!bf0 & !bf1) | (bf0 & !bf1) | (!bf0 & bf1)))) & ((!bf0 & bf1) -> (X ((bf0 & !bf1) | (!bf0 & bf1)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2))) & ((b0 & !(!bf0 & !bf1)) -> X b0) & ((b1 & !(bf0 & !bf1)) -> X b1) & ((b2 & !(!bf0 & bf1)) -> X b2))) & (G(((((!bf0 & !bf1) & X (!bf0 & !bf1)) -> (up <-> X up)) & (((bf0 & !bf1) & X (bf0 & !bf1)) -> (up <-> X up)) & (((!bf0 & bf1) & X (!bf0 & bf1)) -> (up <-> X up))) & ((((!bf0 & !bf1) & X (bf0 & !bf1)) -> X up) & (((bf0 & !bf1) & X (!bf0 & bf1)) -> X up)) & ((((bf0 & !bf1) & X (!bf0 & !bf1)) -> X(!up)) & (((!bf0 & bf1) & X (bf0 & !bf1)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2))) & (G((((!bf0 & !bf1) & !sb) -> ((!bf0 & !bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))) & (((bf0 & !bf1) & !sb) -> ((bf0 & !bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))) & (((!bf0 & bf1) & !sb) -> ((!bf0 & bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1)))& (b1 -> (F (bf0 & !bf1)))& (b2 -> (F (!bf0 & bf1)))))",
    'lift_4b': "(!u & (!bf0 & !bf1) & !b0 & !b1 & !b2 & !b3 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1))) & ((!bf0 & !bf1) -> (X ((!bf0 & !bf1) | (bf0 & !bf1)))) & ((bf0 & !bf1) -> (X ((!bf0 & !bf1) | (bf0 & !bf1) | (!bf0 & bf1)))) & ((!bf0 & bf1) -> (X ((bf0 & !bf1) | (!bf0 & bf1) | (bf0 & bf1)))) & ((bf0 & bf1) -> (X ((!bf0 & bf1) | (bf0 & bf1)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2) & (b3 <-> X b3))) & ((b0 & !(!bf0 & !bf1)) -> X b0) & ((b1 & !(bf0 & !bf1)) -> X b1) & ((b2 & !(!bf0 & bf1)) -> X b2) & ((b3 & !(bf0 & bf1)) -> X b3))) & (G(((((!bf0 & !bf1) & X (!bf0 & !bf1)) -> (up <-> X up)) & (((bf0 & !bf1) & X (bf0 & !bf1)) -> (up <-> X up)) & (((!bf0 & bf1) & X (!bf0 & bf1)) -> (up <-> X up)) & (((bf0 & bf1) & X (bf0 & bf1)) -> (up <-> X up))) & ((((!bf0 & !bf1) & X (bf0 & !bf1)) -> X up) & (((bf0 & !bf1) & X (!bf0 & bf1)) -> X up) & (((!bf0 & bf1) & X (bf0 & bf1)) -> X up)) & ((((bf0 & !bf1) & X (!bf0 & !bf1)) -> X(!up)) & (((!bf0 & bf1) & X (bf0 & !bf1)) -> X(!up)) & (((bf0 & bf1) & X (!bf0 & bf1)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2 | b3))) & (G((((!bf0 & !bf1) & !sb) -> ((!bf0 & !bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))) & (((bf0 & !bf1) & !sb) -> ((bf0 & !bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))) & (((!bf0 & bf1) & !sb) -> ((!bf0 & bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))) & (((bf0 & bf1) & !sb) -> ((bf0 & bf1) U (sb V ((F(!bf0 & !bf1)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1)))& (b1 -> (F (bf0 & !bf1)))& (b2 -> (F (!bf0 & bf1)))& (b3 -> (F (bf0 & bf1)))))",
    'lift_5b': "(!u & (!bf0 & !bf1 & !bf2) & !b0 & !b1 & !b2 & !b3 & !b4 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1) & (bf2 <-> X bf2))) & ((!bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2)))) & ((bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2)))) & ((!bf0 & bf1 & !bf2) -> (X ((bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2)))) & ((bf0 & bf1 & !bf2) -> (X ((!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2)))) & ((!bf0 & !bf1 & bf2) -> (X ((bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2) & (b3 <-> X b3) & (b4 <-> X b4))) & ((b0 & !(!bf0 & !bf1 & !bf2)) -> X b0) & ((b1 & !(bf0 & !bf1 & !bf2)) -> X b1) & ((b2 & !(!bf0 & bf1 & !bf2)) -> X b2) & ((b3 & !(bf0 & bf1 & !bf2)) -> X b3) & ((b4 & !(!bf0 & !bf1 & bf2)) -> X b4))) & (G(((((!bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> (up <-> X up))) & ((((!bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X up) & (((bf0 & !bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X up) & (((!bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> X up) & (((bf0 & bf1 & !bf2) & X (!bf0 & !bf1 & bf2)) -> X up)) & ((((bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> X(!up)) & (((!bf0 & bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X(!up)) & (((bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X(!up)) & (((!bf0 & !bf1 & bf2) & X (bf0 & bf1 & !bf2)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2 | b3 | b4))) & (G((((!bf0 & !bf1 & !bf2) & !sb) -> ((!bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & !bf2) & !sb) -> ((bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & !bf2) & !sb) -> ((!bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & bf1 & !bf2) & !sb) -> ((bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & !bf1 & bf2) & !sb) -> ((!bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1 & !bf2)))& (b1 -> (F (bf0 & !bf1 & !bf2)))& (b2 -> (F (!bf0 & bf1 & !bf2)))& (b3 -> (F (bf0 & bf1 & !bf2)))& (b4 -> (F (!bf0 & !bf1 & bf2)))))",
    'lift_6b': "(!u & (!bf0 & !bf1 & !bf2) & !b0 & !b1 & !b2 & !b3 & !b4 & !b5 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1) & (bf2 <-> X bf2))) & ((!bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2)))) & ((bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2)))) & ((!bf0 & bf1 & !bf2) -> (X ((bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2)))) & ((bf0 & bf1 & !bf2) -> (X ((!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2)))) & ((!bf0 & !bf1 & bf2) -> (X ((bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2)))) & ((bf0 & !bf1 & bf2) -> (X ((!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2) & (b3 <-> X b3) & (b4 <-> X b4) & (b5 <-> X b5))) & ((b0 & !(!bf0 & !bf1 & !bf2)) -> X b0) & ((b1 & !(bf0 & !bf1 & !bf2)) -> X b1) & ((b2 & !(!bf0 & bf1 & !bf2)) -> X b2) & ((b3 & !(bf0 & bf1 & !bf2)) -> X b3) & ((b4 & !(!bf0 & !bf1 & bf2)) -> X b4) & ((b5 & !(bf0 & !bf1 & bf2)) -> X b5))) & (G(((((!bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> (up <-> X up))) & ((((!bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> up) & (((bf0 & !bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X up) & (((!bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> X up) & (((bf0 & bf1 & !bf2) & X (!bf0 & !bf1 & bf2)) -> X up) & (((!bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> X up)) & ((((bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> X(!up)) & (((!bf0 & bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X(!up)) & (((bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X(!up)) & (((!bf0 & !bf1 & bf2) & X (bf0 & bf1 & !bf2)) -> X(!up)) & (((bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2 | b3 | b4 | b5))) & (G((((!bf0 & !bf1 & !bf2) & !sb) -> ((!bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & !bf2) & !sb) -> ((bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & !bf2) & !sb) -> ((!bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & bf1 & !bf2) & !sb) -> ((bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & !bf1 & bf2) & !sb) -> ((!bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & bf2) & !sb) -> ((bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1 & !bf2)))& (b1 -> (F (bf0 & !bf1 & !bf2)))& (b2 -> (F (!bf0 & bf1 & !bf2)))& (b3 -> (F (bf0 & bf1 & !bf2)))& (b4 -> (F (!bf0 & !bf1 & bf2)))& (b5 -> (F (bf0 & !bf1 & bf2)))))",
    "lift_7b": "(!u & (!bf0 & !bf1 & !bf2) & !b0 & !b1 & !b2 & !b3 & !b4 & !b5 & !b6 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1) & (bf2 <-> X bf2))) & ((!bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2)))) & ((bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2)))) & ((!bf0 & bf1 & !bf2) -> (X ((bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2)))) & ((bf0 & bf1 & !bf2) -> (X ((!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2)))) & ((!bf0 & !bf1 & bf2) -> (X ((bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2)))) & ((bf0 & !bf1 & bf2) -> (X ((!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2) | (!bf0 & bf1 & bf2)))) & ((!bf0 & bf1 & bf2) -> (X ((bf0 & !bf1 & bf2) | (!bf0 & bf1 & bf2)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2) & (b3 <-> X b3) & (b4 <-> X b4) & (b5 <-> X b5) & (b6 <-> X b6))) & ((b0 & !(!bf0 & !bf1 & !bf2)) -> X b0) & ((b1 & !(bf0 & !bf1 & !bf2)) -> X b1) & ((b2 & !(!bf0 & bf1 & !bf2)) -> X b2) & ((b3 & !(bf0 & bf1 & !bf2)) -> X b3) & ((b4 & !(!bf0 & !bf1 & bf2)) -> X b4) & ((b5 & !(bf0 & !bf1 & bf2)) -> X b5) & ((b6 & !(!bf0 & bf1 & bf2)) -> X b6))) & (G(((((!bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & bf2) & X (!bf0 & bf1 & bf2)) -> (up <-> X up))) & ((((!bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X up) & (((bf0 & !bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X up) & (((!bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> X up) & (((bf0 & bf1 & !bf2) & X (!bf0 & !bf1 & bf2)) -> X up) & (((!bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> X up) & (((bf0 & !bf1 & bf2) & X (!bf0 & bf1 & bf2)) -> X up)) & ((((bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> X(!up)) & (((!bf0 & bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X(!up)) & (((bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X(!up)) & (((!bf0 & !bf1 & bf2) & X (bf0 & bf1 & !bf2)) -> X(!up)) & (((bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> X(!up)) & (((!bf0 & bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2 | b3 | b4 | b5 | b6))) & (G((((!bf0 & !bf1 & !bf2) & !sb) -> ((!bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & !bf2) & !sb) -> ((bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & !bf2) & !sb) -> ((!bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & bf1 & !bf2) & !sb) -> ((bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & !bf1 & bf2) & !sb) -> ((!bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & bf2) & !sb) -> ((bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & bf2) & !sb) -> ((!bf0 & bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1 & !bf2)))& (b1 -> (F (bf0 & !bf1 & !bf2)))& (b2 -> (F (!bf0 & bf1 & !bf2)))& (b3 -> (F (bf0 & bf1 & !bf2)))& (b4 -> (F (!bf0 & !bf1 & bf2)))& (b5 -> (F (bf0 & !bf1 & bf2)))& (b6 -> (F (!bf0 & bf1 & bf2)))))",
    "lift_8b": "(!u & (!bf0 & !bf1 & !bf2) & !b0 & !b1 & !b2 & !b3 & !b4 & !b5 & !b6 & !b7 & !up) & (G(u <-> !Xu)) & (G((u -> ((bf0 <-> X bf0) & (bf1 <-> X bf1) & (bf2 <-> X bf2))) & ((!bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2)))) & ((bf0 & !bf1 & !bf2) -> (X ((!bf0 & !bf1 & !bf2) | (bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2)))) & ((!bf0 & bf1 & !bf2) -> (X ((bf0 & !bf1 & !bf2) | (!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2)))) & ((bf0 & bf1 & !bf2) -> (X ((!bf0 & bf1 & !bf2) | (bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2)))) & ((!bf0 & !bf1 & bf2) -> (X ((bf0 & bf1 & !bf2) | (!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2)))) & ((bf0 & !bf1 & bf2) -> (X ((!bf0 & !bf1 & bf2) | (bf0 & !bf1 & bf2) | (!bf0 & bf1 & bf2)))) & ((!bf0 & bf1 & bf2) -> (X ((bf0 & !bf1 & bf2) | (!bf0 & bf1 & bf2) | (bf0 & bf1 & bf2)))) & ((bf0 & bf1 & bf2) -> (X ((!bf0 & bf1 & bf2) | (bf0 & bf1 & bf2)))))) & (G((!u -> ((b0 <-> X b0) & (b1 <-> X b1) & (b2 <-> X b2) & (b3 <-> X b3) & (b4 <-> X b4) & (b5 <-> X b5) & (b6 <-> X b6) & (b7 <-> X b7))) & ((b0 & !(!bf0 & !bf1 & !bf2)) -> X b0) & ((b1 & !(bf0 & !bf1 & !bf2)) -> X b1) & ((b2 & !(!bf0 & bf1 & !bf2)) -> X b2) & ((b3 & !(bf0 & bf1 & !bf2)) -> X b3) & ((b4 & !(!bf0 & !bf1 & bf2)) -> X b4) & ((b5 & !(bf0 & !bf1 & bf2)) -> X b5) & ((b6 & !(!bf0 & bf1 & bf2)) -> X b6) & ((b7 & !(bf0 & bf1 & bf2)) -> X b7))) & (G(((((!bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> (up <-> X up)) & (((!bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> (up <-> X up)) & (((bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> (up <-> X up)) & (((!bf0 & bf1 & bf2) & X (!bf0 & bf1 & bf2)) -> (up <-> X up)) & (((bf0 & bf1 & bf2) & X (bf0 & bf1 & bf2)) -> (up <-> X up))) & ((((!bf0 & !bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X up) & (((bf0 & !bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X up) & (((!bf0 & bf1 & !bf2) & X (bf0 & bf1 & !bf2)) -> X up) & (((bf0 & bf1 & !bf2) & X (!bf0 & !bf1 & bf2)) -> X up) & (((!bf0 & !bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> X up) & (((bf0 & !bf1 & bf2) & X (!bf0 & bf1 & bf2)) -> X up) & (((!bf0 & bf1 & bf2) & X (bf0 & bf1 & bf2)) -> X up)) & ((((bf0 & !bf1 & !bf2) & X (!bf0 & !bf1 & !bf2)) -> X(!up)) & (((!bf0 & bf1 & !bf2) & X (bf0 & !bf1 & !bf2)) -> X(!up)) & (((bf0 & bf1 & !bf2) & X (!bf0 & bf1 & !bf2)) -> X(!up)) & (((!bf0 & !bf1 & bf2) & X (bf0 & bf1 & !bf2)) -> X(!up)) & (((bf0 & !bf1 & bf2) & X (!bf0 & !bf1 & bf2)) -> X(!up)) & (((!bf0 & bf1 & bf2) & X (bf0 & !bf1 & bf2)) -> X(!up)) & (((bf0 & bf1 & bf2) & X (!bf0 & bf1 & bf2)) -> X(!up))))) & (G(sb <-> (b0 | b1 | b2 | b3 | b4 | b5 | b6 | b7))) & (G((((!bf0 & !bf1 & !bf2) & !sb) -> ((!bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & !bf2) & !sb) -> ((bf0 & !bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & !bf2) & !sb) -> ((!bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & bf1 & !bf2) & !sb) -> ((bf0 & bf1 & !bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & !bf1 & bf2) & !sb) -> ((!bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & !bf1 & bf2) & !sb) -> ((bf0 & !bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((!bf0 & bf1 & bf2) & !sb) -> ((!bf0 & bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))) & (((bf0 & bf1 & bf2) & !sb) -> ((bf0 & bf1 & bf2) U (sb V ((F(!bf0 & !bf1 & !bf2)) & (!up))))))) & (G((b0 -> (F (!bf0 & !bf1 & !bf2)))& (b1 -> (F (bf0 & !bf1 & !bf2)))& (b2 -> (F (!bf0 & bf1 & !bf2)))& (b3 -> (F (bf0 & bf1 & !bf2)))& (b4 -> (F (!bf0 & !bf1 & bf2)))& (b5 -> (F (bf0 & !bf1 & bf2)))& (b6 -> (F (!bf0 & bf1 & bf2)))& (b7 -> (F (bf0 & bf1 & bf2)))))"
}

ACACIA_FORMULAS = {
    "neg_formula_1": "((G((req)->(((X(grant))&(X(X(grant))))&(X(X(X(grant))))))) & (G((grant)->(X(!grant)))) & (G((cancel)->(X((!grant)U(go))))))",
    "neg_formula_2": "((G((req)->(((X(grant))|(X(X(grant))))|(X(X(X(grant))))))) & (G((grant)->(X(!grant)))) & (G((cancel)->(X((!grant)U(go))))))",
    "neg_formula_4": "(((G((cancel)->((X(go))|(X(X(go))))))->(((G((req)->(((X(grant))|(X(X(grant))))|(X(X(X(grant)))))))&(G((grant)->(X(!grant)))))&(G((cancel)->(X((!grant)U(go))))))))",
    "neg_formula_5": "(((G((cancel)->((X(go))|(X(X(go))))))->(((G((req)->(((X((grant)|(cancel)))|(X(X((grant)|(cancel)))))|(X(X(X((grant)|(cancel))))))))&(G((grant)->(X(!grant)))))&(G((cancel)->(X((!grant)U(go))))))))",
    "neg_formula_6": "(((G((cancel)->(((X(go))|(X(X(go))))|(X(X(X(go)))))))->(((G((req)->(((X((grant)|(cancel)))|(X(X((grant)|(cancel)))))|(X(X(X((grant)|(cancel))))))))&(G((grant)->(X(!grant)))))&(G((cancel)->(X((!grant)U(go))))))))",
    "neg_formula_7": "(((G((cancel)->((X(go))|(X(X(go))))))->((G((cancel)->(X((!(grant))U(go)))))&((G((grant)->(X(!(grant)))))&(G((req)->(((((grant)|(cancel))|(X((grant)|(cancel))))|(X(X((grant)|(cancel)))))|(X(X(X((grant)|(cancel))))))))))))",
    "neg_formula_8": "(((G(F(req)))->(G(F(grant)))))",
    "neg_formula_9": "(((G(F(req)))->((G((!grant)->((!grant)U(req))))&((!grant)&((G((req)->(F(grant))))&(G(F(grant))))))))",
    "neg_formula_10": "((((G(F(req)))|(F(cancel)))->((G(F(grant)))|(G(ack)))))",
    "neg_formula_11": "((!((G((req)->(F(ack))))&(G((go)->(F(grant)))))))",
    "neg_formula_12": "(((G(!grant))|((G((req)->(F(ack))))|(G((go)->(F(grant)))))))",
    "neg_formula_13": "((((G(r1))->(F(a1)))&((G(!r1))->(F(!a1)))))",
    "neg_formula_14": "(((((G(F(r0)))->(G(F(g0))))&((G(F(r1)))->(G(F(g1)))))&(G(!((g0)&(g1))))))",
    "neg_formula_15": "((G((r1)->(F(a1)))) & (G((r2)->(F(a2)))) & (G(!((a1)&(a2)))) & (((!a1)U(r1))|(G(!a1))) & (((!a2)U(r2))|(G(!a2))))",
    "neg_formula_16": "((G((r0)->(F(a0)))) & (G((r1)->(F(a1)))) & (G((r2)->(F(a2)))) & (G(!((a0)&(a1)))) & (G(!((a0)&(a2)))) & (G(!((a1)&(a2)))) & (((!a0)U(r0))|(G(!a0))) & (((!a1)U(r1))|(G(!a1))) & (((!a2)U(r2))|(G(!a2))))",
    "neg_formula_17": "(((G(F(i0)))->(G(F(a0)))) & ((G(F(i1)))->(G(F(a1)))) & (G(F(a2))) & (G(!((a0)&(a1)))) & (G(!((a1)&(a2)))) & (G(!((a2)&(a0)))))",
    "neg_formula_18": "(((G(F(i0)))->(G(F(a0)))) & ((G(F(i1)))->(G(F(a1)))) & ((G(F(i2)))->(G(F(a2)))) & (G(F(a3))) & (G(!((a0)&(a1)))) & (G(!((a0)&(a2)))) & (G(!((a0)&(a3)))) & (G(!((a1)&(a2)))) & (G(!((a1)&(a3)))) & (G(!((a2)&(a3)))))",
    "neg_formula_19": "(((G(F(ets)))->(((((G((hl)->((hl)U(ets))))&(G((fl)->((fl)U(ets)))))&(G((!hl)|(!fl))))&(G((ec)->(F(fl)))))&(G(F(hl))))))",
    "neg_formula_20": "(((!etc) & (G(((!etc)&(!sts))->(X(!etc)))) & (G((etc)->(F(!etc)))) & (G((sts)->(X(etc))))) -> ((G(((shlr)&(X(!shlr)))->(sts))) & (G(((sflr)&(X(!sflr)))->(sts))) & (G(((!sflr)&((!etc)|(!ec)))->(X(sflr)))) & (G(((!shlr)&((!etc)|(ec)))->(X(shlr)))) & (G((sflr)|(shlr))) & (G((ec)->(F(!sflr)))) & (G(F(!shlr)))))",
    "neg_formula_21": "(((G((!r1)|(!r2))) & (G((!r1)|(!r3))) & (G((!r1)|(!r4))) & (G((!r2)|(!r3))) & (G((!r2)|(!r4))) & (G((!r3)|(!r4)))) -> ((G((r1)->(((X(g1))|(X(X(g1))))|(X(X(X(g1))))))) & (G((r2)->(((X(g2))|(X(X(g2))))|(X(X(X(g2))))))) & (G((r3)->(((X(g3))|(X(X(g3))))|(X(X(X(g3))))))) & (G((r4)->(((X(g4))|(X(X(g4))))|(X(X(X(g4))))))) & (G((!g1)|(!g2))) & (G((!g1)|(!g3))) & (G((!g1)|(!g4))) & (G((!g2)|(!g3))) & (G((!g2)|(!g4))) & (G((!g3)|(!g4)))))",
    "neg_formula_23": "((((G(((e)&(X(s)))->(X(e))))&(G(F(!e))))->(G(X((!e)&(X(!s)))))))",
    "neg_formula_24": "(((F(q))->((p)U(q))))",
    "neg_formula_25": "((((c)U(d))|(G(c))))",
    "neg_formula_3": "(((G((cancel)->(X(go))))->(((G((req)->(((X(grant))|(X(X(grant))))|(X(X(X(grant)))))))&(G((grant)->(X(!grant)))))&(G((cancel)->(X((!grant)U(go))))))))",
    "neg_formula_22": "(((((!godown)&(!goup))&(!ws)) & (G((!godown)|(!goup))) & (G(F(!ws))) & (G(((!ws)&(ss))->(X(!ws)))) & (G((ws)->((((X(!ws))|(X(X(!ws))))|(X(X(X(!ws)))))|(X(X(X(X(!ws))))))))) -> ((G((goup)->(F(!ss)))) & (G((godown)->(F(ss)))) & (G(!((ws)&(X(ss)))))))",
}

TASK_BUILDERS = {
    'ltl': lambda formula: DBA.spot_dba(formula),   
}

TASK_LEVELS = {
    'ltl': 'omega-regular'
}
